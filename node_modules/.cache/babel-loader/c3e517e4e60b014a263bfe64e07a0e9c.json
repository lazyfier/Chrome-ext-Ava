{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import chrome from \"vue-cli-plugin-chrome-ext\"\nexport default {\n  name: 'app',\n\n  data() {\n    return {\n      search_input: \"\"\n    };\n  },\n\n  methods: {\n    screenshot() {\n      console.log(\"start\");\n      console.log(chrome.downloads);\n      chrome.tabs.captureVisibleTab(null, {\n        format: \"png\",\n        quality: 100\n      }, function (screenshot) {\n        chrome.downloads.download({\n          url: screenshot,\n          saveAs: true\n        }, res => {\n          console.log(res);\n        });\n        console.log(screenshot.data.toDataURL());\n      });\n      console.log(\"end\");\n    } // saveScreenshot : function() {\n    //   var image = new Image();\n    //   image.onload = function() {\n    //       var canvas = screenshot.content;\n    //       canvas.width = image.width;\n    //       canvas.height = image.height;\n    //       var context = canvas.getContext(\"2d\");\n    //       context.drawImage(image, 0, 0);\n    //       // save the image\n    //       var link = document.createElement('a');\n    //       link.download = \"download.png\";\n    //       link.href = screenshot.content.toDataURL();\n    //       link.click();\n    //       screenshot.data = '';\n    //   };\n    //   image.src = screenshot.data; \n    // }\n\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AAEA;AACAA,aADA;;AAEAC;AACA;AACAC;AADA;AAGA,GANA;;AAOAC;AACAC;AACAC;AACAA;AACAC;AAAAC;AAAAC;AAAA;AACAF;AAAAG;AAAAC;AAAA;AAAAL;AAAA;AACAA;AACA,OAHA;AAIAA;AACA,KATA,CAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA3BA;AAPA","names":["name","data","search_input","methods","screenshot","console","chrome","format","quality","url","saveAs"],"sourceRoot":"src/popup/App","sources":["App.vue"],"sourcesContent":["<template>\n  <el-container style=\"width:600px; height: 400px; border-radius: 8px; background:#9AC8E280;\">\n    <el-header style=\"text-align: right; font-size: 12px\">\n      <el-row>\n        <el-button-group>\n          <el-button type=\"primary\" icon=\"el-icon-edit\"></el-button>\n          <el-button type=\"primary\" icon=\"el-icon-share\"></el-button>\n          <el-button type=\"primary\" icon=\"el-icon-delete\"></el-button>\n        </el-button-group>\n        <el-input v-model=\"search_input\" placeholder=\"搜索\"></el-input>\n      </el-row>\n    </el-header>\n    <el-main>\n      <el-card shadow=\"hover\" style=\"border-radius: 8px;\">\n        <el-row>\n          <el-carousel height=\"150px\">\n            <el-carousel-item v-for=\"item in 4\" :key=\"item\">\n              <h3 class=\"small\">{{ item }}</h3>\n            </el-carousel-item>\n          </el-carousel>\n        </el-row>\n      </el-card>\n      <el-card shadow=\"hover\" style=\"border-radius: 8px;0\">\n        <el-row>\n          <el-button icon=\"el-icon-close-notification\" circle></el-button>\n          <el-button icon=\"el-icon-picture\" circle @click=\"screenshot\"></el-button>\n          <el-button icon=\"el-icon-document-copy\" circle></el-button>\n          <el-button icon=\"el-icon-eleme\" circle></el-button>\n          <el-button icon=\"el-icon-download\" circle></el-button>\n          <!-- <el-button icon=\"el-icon-circle-close\" circle></el-button> -->\n        </el-row>\n        <el-row>\n          <el-button icon=\"el-icon-alarm-clock\" circle></el-button>\n          <el-button icon=\"el-icon-date\" circle></el-button>\n          <el-button icon=\"el-icon-finished\" circle></el-button>\n          <el-button icon=\"el-icon-notebook-2\" circle></el-button>\n          <el-button icon=\"el-icon-s-data\" circle></el-button>\n        </el-row>\n      </el-card>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\n// import chrome from \"vue-cli-plugin-chrome-ext\"\n\n  export default {\n    name: 'app',\n    data() {\n      return {\n        search_input:\"\",\n      };\n    },\n    methods: {\n      screenshot () {\n        console.log(\"start\");\n        console.log(chrome.downloads);\n        chrome.tabs.captureVisibleTab(null,{format:\"png\",quality:100},function (screenshot){\n          chrome.downloads.download({url:screenshot,saveAs:true},(res)=>{console.log(res)})\n          console.log(screenshot.data.toDataURL())\n        });\n        console.log(\"end\");\n      },\n      // saveScreenshot : function() {\n      //   var image = new Image();\n      //   image.onload = function() {\n      //       var canvas = screenshot.content;\n      //       canvas.width = image.width;\n      //       canvas.height = image.height;\n      //       var context = canvas.getContext(\"2d\");\n      //       context.drawImage(image, 0, 0);\n\n      //       // save the image\n      //       var link = document.createElement('a');\n      //       link.download = \"download.png\";\n      //       link.href = screenshot.content.toDataURL();\n      //       link.click();\n      //       screenshot.data = '';\n      //   };\n      //   image.src = screenshot.data; \n      // }\n    }\n  };\n</script>\n\n<style>\n.main_app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.el-carousel__item h3 {\n  color: #475669;\n  font-size: 14px;\n  opacity: 0.75;\n  line-height: 150px;\n  margin: 0;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}